# Описание проекта

Проект создан для хакатона iVision 2021 http://ivision.citylink.pro/

**Задача:** Используя алгоритмы распознавания объектов необходимо создать онлайн сервис, показывающий количество
свободных парковочных мест при просмотре конкретного видеопотока.

# Ход решения

Ход решения можно наблюдать в notebook _DetectFreeParkingLot.ipynb_

# Обучение

Обучение проводилось на основе YOLOv3 модели. <br>

Предоставленные фотографии парковок были уменьшены до размеров 534 x 376 и затем размечены в программе LabelIMG.

Для первой парковки на Ленина использовалось 150 изображений, размеченных по занятым и незанятым парковочным
местам. <br>
Потери составили примерно 20. <br>

Для второй парковки около вокзала использовалось 200 изображений. Потери составили примерно 16. <br>

Количество эпох составило 100 для обоих случаев.

# Запуск

Запустить приложение можно несколькими способами:

1. Установить все зависимости локально и запустить команду: <br>
   `python main.py`
2. Docker: <br>
   `docker run -p 80:80 prafair/detect-parking-spots`

# Деплой

Для деплоя используется DigitalOcean: <br>
https://prafair-detect-parking-spots-x9el5.ondigitalocean.app/ - парковка на Ленина <br>
https://prafair-detect-parking-spots-2-sakq6.ondigitalocean.app/ - парковка у ж/д вокзала

# Offline этап

Реализован онлайн-сервис и телеграм-бот. <br> <br>

В онлайн сервисе реализована Google Map карта с маркерами для двух парковок - у ж/д вокзала и на Ленина 19 г.
Петрозаводска. <br>
По клику отображается в поп-апе информация об общем количестве свободных мест и графическом виде. <br>
По карте можно перемещаться и посмотреть зону парковки. <br> <br>

Телеграм-бот https://t.me/PtzParking_bot предлагает обновить информацию или подписаться на получение данных о свободных
местах на Ленина или вокзале. <br>
При подписке ситема опрашивает количество свободных мест и если оно увеличится то оповестит пользователя и прекратит
опрос.
